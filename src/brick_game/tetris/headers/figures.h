#ifndef SRC_BRICK_GAME_TETRIS_FIGURES_H
#define SRC_BRICK_GAME_TETRIS_FIGURES_H

#define O_FIGURE          \
  {                       \
    {                     \
        {1, 1, 0, 0},     \
        {1, 1, 0, 0},     \
        {0, 0, 0, 0},     \
        {0, 0, 0, 0},     \
    },                    \
        {                 \
            {1, 1, 0, 0}, \
            {1, 1, 0, 0}, \
            {0, 0, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
        {                 \
            {1, 1, 0, 0}, \
            {1, 1, 0, 0}, \
            {0, 0, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
        {                 \
            {1, 1, 0, 0}, \
            {1, 1, 0, 0}, \
            {0, 0, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
  }

#define J_FIGURE          \
  {                       \
    {                     \
        {1, 1, 1, 0},     \
        {0, 0, 1, 0},     \
        {0, 0, 0, 0},     \
        {0, 0, 0, 0},     \
    },                    \
        {                 \
            {0, 1, 0, 0}, \
            {0, 1, 0, 0}, \
            {1, 1, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
        {                 \
            {1, 0, 0, 0}, \
            {1, 1, 1, 0}, \
            {0, 0, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
        {                 \
            {1, 1, 0, 0}, \
            {1, 0, 0, 0}, \
            {1, 0, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
  }

#define L_FIGURE          \
  {                       \
    {                     \
        {1, 1, 1, 0},     \
        {1, 0, 0, 0},     \
        {0, 0, 0, 0},     \
        {0, 0, 0, 0},     \
    },                    \
        {                 \
            {1, 1, 0, 0}, \
            {0, 1, 0, 0}, \
            {0, 1, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
        {                 \
            {0, 0, 1, 0}, \
            {1, 1, 1, 0}, \
            {0, 0, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
        {                 \
            {1, 0, 0, 0}, \
            {1, 0, 0, 0}, \
            {1, 1, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
  }

#define Z_FIGURE          \
  {                       \
    {                     \
        {1, 1, 0, 0},     \
        {0, 1, 1, 0},     \
        {0, 0, 0, 0},     \
        {0, 0, 0, 0},     \
    },                    \
        {                 \
            {0, 1, 0, 0}, \
            {1, 1, 0, 0}, \
            {1, 0, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
        {                 \
            {1, 1, 0, 0}, \
            {0, 1, 1, 0}, \
            {0, 0, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
        {                 \
            {0, 1, 0, 0}, \
            {1, 1, 0, 0}, \
            {1, 0, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
  }

#define S_FIGURE          \
  {                       \
    {                     \
        {0, 1, 1, 0},     \
        {1, 1, 0, 0},     \
        {0, 0, 0, 0},     \
        {0, 0, 0, 0},     \
    },                    \
        {                 \
            {1, 0, 0, 0}, \
            {1, 1, 0, 0}, \
            {0, 1, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
        {                 \
            {0, 1, 1, 0}, \
            {1, 1, 0, 0}, \
            {0, 0, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
        {                 \
            {1, 0, 0, 0}, \
            {1, 1, 0, 0}, \
            {0, 1, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
  }

#define I_FIGURE          \
  {                       \
    {                     \
        {1, 1, 1, 1},     \
        {0, 0, 0, 0},     \
        {0, 0, 0, 0},     \
        {0, 0, 0, 0},     \
    },                    \
        {                 \
            {1, 0, 0, 0}, \
            {1, 0, 0, 0}, \
            {1, 0, 0, 0}, \
            {1, 0, 0, 0}, \
        },                \
        {                 \
            {1, 1, 1, 1}, \
            {0, 0, 0, 0}, \
            {0, 0, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
        {                 \
            {1, 0, 0, 0}, \
            {1, 0, 0, 0}, \
            {1, 0, 0, 0}, \
            {1, 0, 0, 0}, \
        },                \
  }

#define T_FIGURE          \
  {                       \
    {                     \
        {1, 1, 1, 0},     \
        {0, 1, 0, 0},     \
        {0, 0, 0, 0},     \
        {0, 0, 0, 0},     \
    },                    \
        {                 \
            {0, 1, 0, 0}, \
            {1, 1, 0, 0}, \
            {0, 1, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
        {                 \
            {0, 1, 0, 0}, \
            {1, 1, 1, 0}, \
            {0, 0, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
        {                 \
            {1, 0, 0, 0}, \
            {1, 1, 0, 0}, \
            {1, 0, 0, 0}, \
            {0, 0, 0, 0}, \
        },                \
  }

typedef struct {
  int type;
  int orientation;
  int position[2];
  int status;
} figure_t;

enum e_types { O, J, L, Z, S, I, T, FIGURES_COUNT };
enum e_orientations { ROTATION_0, ROTATION_90, ROTATION_180, ROTATION_270 };
enum e_statuses { FIXED, UNFIXED };
enum e_directions { LEFT, RIGHT, DOWN };

int spawn_figure(figure_t *figure, int type, int **field);
int move_figure(figure_t *figure, int direction, int **field);
void rotate_figure(figure_t *figure, int **field);
void add_figure_to_field(figure_t *figure, int **field, int value);
void get_figure_matrix(const figure_t *figure, int matrix[4][4]);

#endif